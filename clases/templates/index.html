<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de QR</title>
</head>
<body>
    <h1>Generador de Códigos QR</h1>
    <p>Ingresa el ID de la clase para generar su código QR:</p>

    <!-- Formulario -->
    <form action="{% url 'generar_qr' 0 %}" method="get" onsubmit="return redirectToQR()">
        <label for="clase_id">ID de la Clase:</label>
        <input type="number" id="clase_id" name="clase_id" required>
        <br><br>
        <button type="submit">Generar QR</button>
    </form>

    <script>
        // Redirige al endpoint correcto basado en el ID de clase ingresado
        function redirectToQR() {
            const claseId = document.getElementById('clase_id').value;
            if (claseId) {
                // Cambia la acción del formulario a la URL de la clase específica
                document.forms[0].action = `/generar_qr/${claseId}/`;
                return true;
            } else {
                alert("Por favor, ingresa un ID válido.");
                return false;
            }
        }
    </script>
</body>
</html>
